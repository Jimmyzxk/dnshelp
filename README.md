# **流媒体解锁助手 v3.0 - 使用介绍**

## **概述**

**流媒体解锁助手 v3.0** 是一款智能、一键式流媒体解锁工具，旨在帮助用户通过自定义 DNS 配置，快速解锁 Netflix、Hulu 等流媒体服务。该工具支持 **Ubuntu**、**CentOS** 和 **Debian** 系统，并且提供了详细的操作选项，适用于 A 机器（能够解锁流媒体的 VPS）和 B 机器（无法解锁流媒体的 VPS）。通过本工具，您可以轻松实现跨服务器流媒体解锁，优化您的观看体验。

## **功能亮点**

- **一键解锁流媒体**：通过配置 DNS，解决流媒体无法播放的问题。
- **支持多种操作系统**：兼容 Ubuntu、CentOS 和 Debian 系统。
- **简洁直观的界面**：提供清晰的用户交互界面和配置步骤，轻松上手。
- **智能选择**：根据机器类型（A 或 B）自动适配操作流程。
- **安全可靠**：防火墙规则自动配置，确保解锁服务安全且有效。

## **支持的操作系统**

- **Ubuntu**（16.04+）
- **Debian**（8+）
- **CentOS**（7+）

## **使用前准备**

### **A 机器配置（解锁流媒体的 VPS）**
A 机器是您需要用来解锁流媒体服务的服务器。它需要具备可以解锁 Netflix 等流媒体的能力。

### **B 机器配置（通过 A 机器解锁流媒体的 VPS）**
B 机器是无法直接解锁流媒体的服务器，您将通过 A 机器的 DNS 来绕过流媒体的地理限制。

## **安装步骤**

### **步骤 1：下载脚本**

首先，您需要下载脚本到您的 VPS 服务器：

```bash
wget -O unlock.sh https://raw.githubusercontent.com/Jimmyzxk/dnshelp/refs/heads/main/dnszs.sh

骤 2：添加执行权限

确保脚本可以执行：

chmod +x unlock.sh

步骤 3：运行脚本

运行脚本并选择相应的操作：

sudo ./unlock.sh

步骤 4：选择操作类型

根据您的服务器类型，输入 A 或 B 来选择要配置的机器：

    A 机器：解锁流媒体的 VPS
    B 机器：无法解锁流媒体的 VPS，需通过 A 机器的 DNS 配置来解锁

请输入您的选择 (A 或 B): A

步骤 5：输入必要的 IP 地址

    对于 A 机器，您需要提供 B 机器的 IP 地址，用于配置防火墙规则，只允许 B 机器访问 DNS 服务。
    对于 B 机器，您需要输入 A 机器的 IP 地址，以便修改 DNS 配置。

请输入 B 机器的 IP 地址:
请输入 A 机器的 IP 地址:

步骤 6：等待脚本自动配置

脚本将自动进行配置，完成以下操作：

    安装必要的依赖包。
    配置 Dnsmasq 和 SNIproxy 来解锁流媒体。
    修改 B 机器的 DNS 配置并锁定 resolv.conf，确保配置不被系统重置。
    配置防火墙规则，确保只有 B 机器可以访问 A 机器的 DNS 服务。

步骤 7：完成配置

当脚本完成配置后，您将看到以下提示：

✅ A 机器配置完成！解锁流媒体已准备好！
✅ B 机器配置完成！流媒体解锁成功。

步骤 8：验证配置

在 B 机器 上，您可以使用 nslookup 命令来确认 DNS 是否已经正确解析：

nslookup netflix.com

如果返回的 IP 地址是 A 机器的 IP，那么配置成功。
功能示例
A 机器配置（解锁流媒体）

    安装 Dnsmasq 和 SNIproxy： 在 A 机器上，脚本会自动安装和配置 Dnsmasq 和 SNIproxy，确保您能够通过 A 机器的 DNS 解锁流媒体。

    配置防火墙规则： 脚本会自动配置防火墙，确保只有 B 机器能够访问 A 机器的 DNS 服务，从而解锁流媒体。

B 机器配置（通过 A 机器解锁流媒体）

    修改 DNS 设置： 脚本会自动将 B 机器的 DNS 修改为 A 机器的 IP 地址，使得 B 机器可以通过 A 机器的 DNS 实现流媒体解锁。

    锁定 resolv.conf： 为防止系统重启后自动还原，脚本会将 /etc/resolv.conf 文件锁定，确保配置长期有效。
